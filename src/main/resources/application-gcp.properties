# =====================================================
# GCP (CLOUD RUN) CONFIGURATION
# =====================================================
# This configuration is active when the 'gcp' profile is used.

# Enable GCP integrations
spring.cloud.gcp.secretmanager.enabled=true
spring.cloud.gcp.sql.enabled=true

# --- Database Connection for Cloud SQL ---

# 1. Set your Cloud SQL instance connection name.
# Format: <PROJECT_ID>:<REGION>:<INSTANCE_ID>
spring.cloud.gcp.sql.instance-connection-name=your-gcp-project:your-region:your-instance-id

# 2. Set the name of your database.
spring.cloud.gcp.sql.database-name=groomer

# 3. The JDBC URL is automatically configured by the Cloud SQL starter.
# We just need to specify the database type.
spring.datasource.url=jdbc:postgresql://

# 4. Reference secrets from Google Secret Manager.
# The application's service account on Cloud Run will need the "Secret Manager Secret Accessor" role.
spring.datasource.username=${sm://db-username}
spring.datasource.password=${sm://db-password}
